(this["webpackJsonpcrowd-tag-react"]=this["webpackJsonpcrowd-tag-react"]||[]).push([[0],{218:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s(1),i=s.n(c),l=s(39),n=s.n(l),o=(s(93),s(2)),r=s(5),d=s(6),m=s(7),h=s(19),j=s(9),u=s(8),b=s.p+"static/media/noun_shutter_1063959.9f050b63.svg",p={STORE_CURRENT_USER:"STORE_CURRENT_USER",STORE_SELECTED_COLLECTION:"STORE_SELECTED_COLLECTION",STORE_ALL_COLLECTIONS:"STORE_ALL_COLLECTIONS",STORE_SELECTED_PHOTO:"STORE_SELECTED_PHOTO",STORE_DISPLAY_TAG:"STORE_DISPLAY_TAG"},O=s(3),x=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={isLoggedIn:{}},a}return Object(m.a)(s,[{key:"logOutCurrentUser",value:function(){this.props.dispatch({type:p.STORE_CURRENT_USER,payload:{}})}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 mt-6",children:[Object(a.jsxs)(o.b,{to:"/",className:"Logo-link",children:[Object(a.jsx)("img",{src:b,className:"mt-n2 logo",alt:"logo",width:"30px"}),Object(a.jsx)("h1",{className:"d-inline ml-2 font-family-brand",id:"logo-text",children:"Crowd Tag"})]}),Object(a.jsxs)("div",{className:"float-right mt-2",children:[Object(a.jsx)(o.b,{to:"/log-in",className:"collection-link pr-3",children:"Log in"}),Object(a.jsx)(o.b,{to:"/library-log-in",className:"collection-link pr-3",children:"Library log in"}),Object(a.jsx)(o.b,{to:"/log-in",className:"collection-link",onClick:function(){e.logOutCurrentUser()},children:"Log out"})]})]})})}}]),s}(i.a.Component);var g=Object(O.b)((function(e){return{}}))(x);function v(e){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 col-xl-6 offset-xl-3 col-lg-8 offset-lg-2 col-md-10 offset-md-1",children:[Object(a.jsx)(g,{}),e.children]})})})}var f=s.p+"static/media/icon-add.16f9cab5.svg",N=s.p+"static/media/icon-arrow-thick-left-circle.362c0449.svg",y=s.p+"static/media/icon-trash.00bdc38a.svg",E=s(18),w=s.n(E);var C=Object(r.f)(Object(O.b)((function(e){return{collection:e.selectedCollection}}))((function(e){return console.log("adminPhotoThumbnail",e),Object(a.jsxs)("div",{className:"col-lg-3 col-md-4 col-6 mb-5",children:[Object(a.jsxs)(o.b,{to:"/image",children:[Object(a.jsx)("div",{className:"img-square",onClick:function(){console.log("Going to photo"),e.dispatch({type:p.STORE_SELECTED_PHOTO,payload:e.photo}),e.history.push("/image")},children:Object(a.jsx)("img",{className:"img-thumbnail",src:e.photo.url,alt:""})}),Object(a.jsx)("p",{className:"file-name-text text-break ml-1",children:e.photo.fileName})]}),Object(a.jsxs)("button",{to:"",className:"remove-link tag-text-remove btn ml-n5",onClick:function(){e.deletePhoto(e.photo)},children:[Object(a.jsx)("img",{className:"mt-n1",src:y,alt:"",width:"15px"}),"Remove"]})]})}))),S=s.p+"static/media/save.cb372668.svg",T=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(d.a)(this,s);var c=(a=t.call(this,e)).props.collection.photos;return a.state={isDisplayingAddPhoto:!1,isDisplayingDelete:!1,displayedPhotos:c},a.deletePhoto=a.deletePhoto.bind(Object(h.a)(a)),a}return Object(m.a)(s,[{key:"setCollectionTitleText",value:function(e){this.setState({collectionTitle:e.target.value})}},{key:"showDelete",value:function(){this.setState({isDisplayingDelete:!this.state.isDisplayingDelete})}},{key:"showInputs",value:function(){this.setState({isDisplayingAddPhoto:!this.state.isDisplayingAddPhoto})}},{key:"deletePhoto",value:function(e){var t=e,s=this.state.displayedPhotos,a=w()(s,t);console.log("filteredPhotos",a),this.setState({displayedPhotos:a})}},{key:"deleteCollection",value:function(){console.log(this.props.allCollections);var e=this.props.collection,t=this.props.allCollections,s=w()(t,e);this.props.dispatch({type:p.STORE_ALL_COLLECTIONS,payload:s}),this.props.history.push("/admin-collections")}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(v,{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col mt-6 mb-0",children:Object(a.jsxs)(o.b,{to:"/admin-collections",className:"collection-link",children:[Object(a.jsx)("img",{src:N,width:"15px",className:"mb-1 primary",alt:""}),"Back to collections"]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col mt-4 mb-0",children:[Object(a.jsx)("input",{className:"form-control d-inline",defaultValue:this.props.collection.name,id:"collectionTitle"}),Object(a.jsxs)("button",{className:"text-primary btn btn-link float-right",id:"add-photo-btn",onClick:function(){e.showInputs()},children:[Object(a.jsx)("img",{src:f,width:"20px",className:"mb-1 primary",alt:""}),"Add photos"]})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12",children:this.state.isDisplayingAddPhoto&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{id:"photo-url",children:Object(a.jsx)("input",{className:"form-control form-control-sm mt-3",type:"text",placeholder:"Add photo url"})})})})}),Object(a.jsx)("hr",{className:"mt-2 mb-5"}),Object(a.jsx)("div",{className:"row",children:this.state.displayedPhotos.map((function(t){return Object(a.jsx)(C,{photo:t,deletePhoto:e.deletePhoto},t.id)}))}),Object(a.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(a.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"showDelete",name:"showDelete",value:!this.state.isDisplayingDelete,onChange:function(){e.showDelete()}}),Object(a.jsx)("label",{className:"custom-control-label",htmlFor:"showDelete",children:"Show delete button"})]}),Object(a.jsxs)("div",{className:"float-right mt-n5",children:[Object(a.jsx)(o.b,{to:"",className:"btn btn-outline-primary",children:"Cancel"}),Object(a.jsxs)(o.b,{to:"",className:"btn btn-primary ml-4",children:[Object(a.jsx)("img",{src:S,width:"20px",style:{marginBottom:"5px",marginRight:"4px"},alt:""}),"Save"]})]}),Object(a.jsx)("div",{className:"mt-4 mb-3",children:this.state.isDisplayingDelete&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{className:"btn btn-outline-danger",id:"delete-button",onClick:function(){e.deleteCollection()},children:"Delete collection"})})})]})}}]),s}(i.a.Component);var k=Object(r.f)(Object(O.b)((function(e){return{collection:e.selectedCollection,allCollections:e.allCollections}}))(T)),L=s(27),P=s(42);var R=Object(r.f)(Object(O.b)((function(e){return{}}))((function(e){return Object(a.jsxs)("div",{className:"row mt-8",onClick:function(){console.log("Going to collection"),e.dispatch({type:p.STORE_SELECTED_COLLECTION,payload:e.collection}),e.history.push("/collection")},children:[Object(a.jsx)("div",{className:"col-12 col-sm-4",children:Object(a.jsx)("div",{className:"img-square",children:Object(a.jsx)("img",{src:e.collection.photos[0].url,alt:"...",className:"img-thumbnail thumb-img"})})}),Object(a.jsxs)("div",{className:"col-8",children:[Object(a.jsx)("p",{className:"lead collection-link stretched-link",children:e.collection.name}),Object(a.jsx)("p",{className:"text-muted",children:e.collection.institutionName}),Object(a.jsx)("p",{className:"text-muted mt-2",children:Object(P.a)(e.collection.createdAt,"MMM. d, yyy")})]})]})}))),_=s(20),D=s.n(_),A=s(43),I=s.n(A),z=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={order:'[["createdAt"], ["desc"]]',displayedCollections:[],allCollections:[]},a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;D.a.get("https://raw.githubusercontent.com/Reina-git/Crowd-Tag-React/main/src/mock-data/nested-collections.json").then((function(t){console.log(t.data);var s=t.data;e.setState({displayedCollections:I()(s,["createdAt"],["desc"]),allCollections:I()(s,["createdAt"],["desc"])})})).catch((function(e){console.log(e)}))}},{key:"filterByInput",value:function(){var e=this,t=document.getElementById("search-input").value.toLowerCase();console.log(t);var s=Object(L.a)(this.state.allCollections);console.log("copy of all collections",s);var a=s.filter((function(e){var s=e.name.toLowerCase(),a=e.institutionName.toLowerCase();return!(!s.includes(t)&&!a.includes(t))}));this.setState({displayedCollections:a},(function(){e.setCollections()}))}},{key:"setOrder",value:function(e){var t=this,s=e.target.value;this.setState({order:s},(function(){t.setCollections()}))}},{key:"setCollections",value:function(){var e=Object(L.a)(this.state.displayedCollections),t=JSON.parse(this.state.order),s=I.a.apply(void 0,[e].concat(Object(L.a)(t)));this.setState({displayedCollections:s})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(v,{children:[Object(a.jsxs)("div",{className:"row my-4",children:[Object(a.jsx)("div",{className:"col-8",children:Object(a.jsx)("input",{className:" form-control form-control-sm",type:"text",placeholder:"Search for a word",id:"search-input"})}),Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("button",{className:"btn btn-primary btn-block btn-sm",onClick:function(){return e.filterByInput()},children:"Search"})})]}),Object(a.jsxs)("div",{className:"row my-4 no-gutters",children:[Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("p",{className:"text-muted mt-2",children:"Sort collections by"})}),Object(a.jsx)("div",{className:"col-8",children:Object(a.jsxs)("select",{value:this.state.order,className:"form-control form-control-sm",onChange:function(t){return e.setOrder(t)},children:[Object(a.jsx)("option",{value:'[["createdAt"], ["desc"]]',children:"Most recent"}),Object(a.jsx)("option",{value:'[["createdAt"], ["asc"]]',children:"Oldest"})]})})]}),this.state.displayedCollections.map((function(e){return Object(a.jsx)(R,{collection:e,name:e.name,institutionName:e.institutionName},e.id)}))]})}}]),s}(i.a.Component);var U=Object(O.b)((function(e){return{allCollections:e.allCollections}}))(z);var B=Object(r.f)(Object(O.b)((function(e){return{}}))((function(e){function t(){e.dispatch({type:p.STORE_SELECTED_COLLECTION,payload:e.collection}),e.history.push("/admin-add-photo-collection")}return Object(a.jsxs)("div",{className:"row mt-6",children:[Object(a.jsx)("div",{className:"col-12 col-sm-4",onClick:function(){t()},children:Object(a.jsx)("div",{className:"img-square",children:Object(a.jsx)("img",{src:e.collection.photos[0].url,alt:"...",className:"img-thumbnail thumb-img"})})}),Object(a.jsxs)("div",{className:"col-6",onClick:function(){t()},children:[Object(a.jsx)("p",{className:"collection-link stretched-link"}),Object(a.jsx)("p",{className:"lead",children:e.collection.name}),Object(a.jsx)("p",{className:"text-muted",children:e.collection.institutionName}),Object(a.jsx)("p",{className:"text-muted mt-2",children:Object(P.a)(e.collection.createdAt,"MMM. d, yyy")})]}),Object(a.jsx)("div",{className:"col-6 col-sm-2",children:Object(a.jsxs)("button",{to:"",className:"remove-link float-right btn",onClick:function(){console.log("clicked"),e.deleteCollection(e.collection)},children:[Object(a.jsx)("img",{className:"",src:y,alt:"",width:"20px"}),"Remove"]})})]})}))),G=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(d.a)(this,s);var c=(a=t.call(this,e)).props.allCollections;return a.state={displayedCollections:c},a.deleteCollection=a.deleteCollection.bind(Object(h.a)(a)),a}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this;D.a.get("https://raw.githubusercontent.com/Reina-git/Crowd-Tag-React/main/src/mock-data/nested-collections.json").then((function(t){e.props.dispatch({type:p.STORE_ALL_COLLECTIONS,payload:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteCollection",value:function(e){console.log("inside delete function");var t=e;console.log(" deletedCollection",t);var s=this.state.displayedCollections;console.log("collection",e);var a=w()(s,t);console.log("filteredCollections",a),this.setState({displayedCollections:a}),console.log("collection",e)}},{key:"render",value:function(){var e=this;this.props.allCollections;return Object(a.jsxs)(v,{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col mt-6 mb-n2",children:Object(a.jsxs)(o.b,{to:"/admin-add-photo-collection",className:"collection-link",children:[Object(a.jsx)("img",{src:f,width:"20px",className:"mb-1 primary",alt:""}),"Add a new collection"]})})}),Object(a.jsx)("div",{className:"row",children:this.state.displayedCollections.map((function(t){if("ef3d5c68-02c7-4959-864e-9ccafc402228"===t.userId)return Object(a.jsx)(B,{collection:t,deleteCollection:e.deleteCollection},t.id)}))})]})}}]),s}(i.a.Component);var F=Object(O.b)((function(e){return{allCollections:e.allCollections,displayedCollections:e.displayedCollections}}))(G);var M=Object(r.f)(Object(O.b)((function(e){return{}}))((function(e){return Object(a.jsx)("div",{className:"col-lg-3 col-md-4 col-6 mb-5",children:Object(a.jsx)(o.b,{to:"/image",children:Object(a.jsx)("div",{className:"img-square",onClick:function(){e.dispatch({type:p.STORE_SELECTED_PHOTO,payload:e.photo}),e.history.push("/image")},children:Object(a.jsx)("img",{className:"img-thumbnail",src:e.photo.url,alt:""},e.photo.id)})})})})));var H=Object(r.f)(Object(O.b)((function(e){return{collection:e.selectedCollection}}))((function(e){return Object(a.jsxs)(v,{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col mt-6 mb-0",children:Object(a.jsxs)(o.b,{to:"/",className:"collection-link",children:[Object(a.jsx)("img",{src:N,width:"20px",alt:"back arrow",className:"mb-1 primary"}),"Back to collections"]})})}),Object(a.jsx)("h2",{className:"lead mt-4 mb-0",children:e.collection.name}),Object(a.jsx)("hr",{className:"mt-2 mb-5"}),Object(a.jsx)("div",{className:"row",children:e.collection.photos.map((function(e){return Object(a.jsx)(M,{photo:e},e.id)}))})]})}))),q=s.p+"static/media/icon-cheveron-down.24fe5566.svg",Y=s.p+"static/media/icon-close.91034315.svg";var Z=Object(r.f)(Object(O.b)((function(e){return{photo:e.selectedPhoto}}))((function(e){return Object(a.jsxs)("div",{className:"d-inline-flex",children:[Object(a.jsx)("p",{className:"tag-text mt-3",children:e.tag.name}),Object(a.jsx)("button",{to:"",width:"20px",className:"btn",onClick:function(){e.deleteTag(e.tag)},children:Object(a.jsx)("img",{src:Y,width:"20px",alt:"delete",className:"ml-n3"})})]})}))),J=s(21),W=s.n(J);var $=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;Object(d.a)(this,s);var c=(a=t.call(this,e)).props.photo.tags;return a.state={tagText:"",allTags:[],displayedTags:c},a.deleteTag=a.deleteTag.bind(Object(h.a)(a)),a}return Object(m.a)(s,[{key:"deleteTag",value:function(e){var t=e,s=this.state.displayedTags,a=w()(s,t);this.setState({displayedTags:a}),this.props.history.push("/image"),console.log("tag",a)}},{key:"checkHasInvalidCharCount",value:function(){return this.state.tagText.length>100||0===this.state.tagText.length}},{key:"setTagText",value:function(e){this.setState({tagText:e.target.value})}},{key:"render",value:function(){var e=this;console.log("props on image page",this.props.photo);var t,s,c=this.props.photo;return Object(a.jsxs)(v,{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col mt-6 mb-n2",children:Object(a.jsxs)(o.b,{to:"/collection",className:"collection-link",children:[Object(a.jsx)("img",{src:N,width:"20px",className:"mb-1 primary",alt:""}),"Back to collection"]})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(a.jsx)("div",{className:"col-2 col-md-1 align-self-center",children:Object(a.jsx)("img",{src:q,width:"100%",id:"rotate-left",alt:"left chevron"})}),Object(a.jsx)("div",{className:"col-8 col-md-10",children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:c.url,className:"img-fluid",alt:""},c.id)})}),Object(a.jsx)("div",{className:"col-2 col-md-1 align-self-center",children:Object(a.jsx)("img",{src:q,width:"100%",id:"rotate-right",alt:"right chevron"})})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 mt-5",children:[Object(a.jsx)("p",{className:"text-pimary",children:"Please log in to begin tagging photos."}),Object(a.jsx)(o.b,{to:"/log-in",className:"btn btn-primary",children:"Log in"})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 mt-5",children:[Object(a.jsx)("p",{className:"text-primary",children:"Type a tag then press enter."}),Object(a.jsx)("input",{className:"form-control form-control-sm mt-3",type:"text",placeholder:"Add a tag",id:"tagText",onChange:function(t){return e.setTagText(t)}})]})}),Object(a.jsx)("p",{className:"float-right mt-2 mb-0 text-muted",children:Object(a.jsxs)("span",{className:W()({"text-danger":(t=this.state.tagText,s=100,t.length>s)}),children:[this.state.tagText.length,"/",100]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12",children:[Object(a.jsx)("div",{className:"clearfix"}),this.state.displayedTags.map((function(t){return Object(a.jsx)(Z,{tag:t,deleteTag:e.deleteTag},t.id)}))]})})]})}}]),s}(i.a.Component);var V=Object(r.f)(Object(O.b)((function(e){return{photo:e.selectedPhoto,displayedTag:e.displayedTag}}))($));function K(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 col-xl-8 offset-xl-2 col-lg-10 offset-lg-1",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 mt-6",children:Object(a.jsxs)(o.b,{to:"/",className:"Logo-link",children:[Object(a.jsx)("img",{src:b,className:"mt-n2 logo",alt:"shutter logo"}),Object(a.jsx)("h1",{className:"d-inline ml-2 font-family-brand",id:"logo-text",children:"Crowd Tag"})]})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-12 col-md-5 mr-md-8",children:Object(a.jsxs)("div",{className:"card card-body-padding mt-9 d-flex",children:[Object(a.jsx)("h2",{children:"Nice to meet you."}),Object(a.jsx)("p",{children:"Sign up for Crowd Tag."}),Object(a.jsx)("button",{className:"btn btn-primary btn-block d-flex justify-content-center mt-5",id:"sign-up-button",children:"Sign up"}),Object(a.jsxs)("div",{id:"sign-up-card",style:{display:"none"},children:[Object(a.jsx)("p",{className:"text-primary mt-3",children:"Let's get you tagging some photographs."}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Email address"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{style:{},type:"text",id:"sign-up-email-input",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"})}),Object(a.jsx)("p",{className:"text-danger lead mt-2",id:"sign-up-email-error"}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Create a password"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text",className:"form-control",id:"sign-up-password-input","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"})}),Object(a.jsx)("p",{className:"text-danger lead mt-2",id:"sign-up-password-error"}),Object(a.jsx)("button",{href:"/image.html",className:"btn btn-primary btn-block mt-5",id:"letsGoButton",children:"Let's go!"})]})]})}),Object(a.jsx)("div",{className:"col-12 col-md-5 ml-md-7",children:Object(a.jsxs)("div",{className:"card card-body-padding mt-9 d-flex",children:[Object(a.jsx)("h2",{children:"Welcome back"}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Email address"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",id:"email-input"})}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Password"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",id:"password-input"})}),Object(a.jsx)(o.b,{to:"/admin-collections",className:"btn btn-primary mt-5",id:"login-button",children:"Login!"})]})})]})]})})})}var Q=s(11),X=s.n(Q),ee=s(22),te=s(41),se=s.n(te),ae=s(219),ce=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={isDisplayingInputs:!1,emailError:"",passwordError:"",hasEmailError:!1,hasPasswordError:!1},a}return Object(m.a)(s,[{key:"showInputs",value:function(){this.setState({isDisplayingInputs:!0})}},{key:"setEmailState",value:function(){var e=Object(ee.a)(X.a.mark((function e(t){var s,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.toLowerCase(),a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,""===t?this.setState({emailError:"Please enter your email address.",hasEmailError:!0}):!1===a.test(s)?this.setState({emailError:"Please enter a valid email address.",hasEmailError:!0}):this.setState({emailError:"",hasEmailError:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkHasLocalPart",value:function(e,t){var s=t.split("@")[0];return""!==s&&(!(s.length<4)&&e.includes(s))}},{key:"setPasswordState",value:function(){var e=Object(ee.a)(X.a.mark((function e(t,s){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=Object(L.a)(new Set(t)),console.log(a),""===t?this.setState({passwordError:"Please enter a password.",hasPasswordError:!0}):t.length<9?this.setState({passwordError:"Your password must be at least 9 characters.",hasPasswordError:!0}):this.checkHasLocalPart(t,s)?this.setState({passwordError:"For your safety, your password cannot contain your email address.",hasPasswordError:!0}):a.length<3?this.setState({passwordError:"For your safety, your password must contain at least 3 unique characters.",hasPasswordError:!0}):this.setState({passwordError:"",hasPasswordError:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"validateAndCreateUser",value:function(){var e=Object(ee.a)(X.a.mark((function e(){var t,s,a,c=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("sign-up-email-input").value,s=document.getElementById("sign-up-password-input").value,e.next=4,this.setEmailState(t);case 4:return e.next=6,this.setPasswordState(s,t);case 6:!1===this.state.hasEmailError&&!1===this.state.hasPasswordError&&(a={id:Object(ae.a)(),email:t,password:se()(s),createdAt:Date.now()},console.log(a),D.a.get("https://raw.githubusercontent.com/Reina-git/Crowd-Tag-React/main/src/mock-data/user.json").then((function(e){var t=e.data;console.log(t),c.props.dispatch({type:p.STORE_CURRENT_USER,payload:e.data})})).catch((function(e){console.log(e)})),this.props.history.push("/"));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"col-12 col-lg-5",children:Object(a.jsxs)("div",{className:"card card-body-padding mt-9 d-flex justify-content-center",children:[Object(a.jsx)("h2",{children:"Nice to meet you."}),Object(a.jsx)("p",{children:"Sign up for Crowd Tag."}),Object(a.jsxs)("div",{id:"sign-up-card",children:[this.state.isDisplayingInputs&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{className:"text-success mt-3",children:"Let's get you signed up"}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Email address"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text",id:"sign-up-email-input",className:W()({"form-control":!0,"mb-2":!0,"is-invalid":this.state.hasEmailError}),"aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default"})}),this.state.hasEmailError&&Object(a.jsx)("p",{className:"text-danger lead mt-2",id:"sign-up-email-error",children:this.state.emailError}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Create a password"}),Object(a.jsx)("p",{className:"text-muted lead",children:"Must be at least 9 characters."}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text",id:"sign-up-password-input","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",className:W()({"form-control":!0,"mb-2":!0,"is-invalid":this.state.hasPasswordError})})}),""!==this.state.passwordError&&Object(a.jsx)("p",{className:"lead mt-2 text-danger",id:"sign-up-password-error",children:this.state.passwordError}),Object(a.jsx)("button",{to:"/create-answer",className:"btn btn-success btn-block mt-5",id:"letsGoButton",onClick:function(){e.validateAndCreateUser()},children:"Let's go!"})]}),!this.state.isDisplayingInputs&&Object(a.jsx)("button",{className:"btn btn-success btn-block d-flex justify-content-center mt-5",onClick:function(){e.showInputs()},children:"Sign up"})]})]})})}}]),s}(i.a.Component);var ie=Object(r.f)(Object(O.b)((function(e){return{}}))(ce)),le=function(e){Object(j.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).state={isDisplayingInputs:!1,emailError:"",passwordError:"",hasEmailError:!1,hasPasswordError:!1},a}return Object(m.a)(s,[{key:"showInputs",value:function(){this.setState({isDisplayingInputs:!0})}},{key:"setEmailState",value:function(){var e=Object(ee.a)(X.a.mark((function e(t){var s,a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.toLowerCase(),a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,""===t?this.setState({emailError:"Please enter your email address.",hasEmailError:!0}):!1===a.test(s)?this.setState({emailError:"Please enter a valid email address.",hasEmailError:!0}):this.setState({emailError:"",hasEmailError:!1});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPasswordState",value:function(){var e=Object(ee.a)(X.a.mark((function e(t,s){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),""===t?this.setState({passwordError:"Please enter a password.",hasPasswordError:!0}):this.setState({passwordError:"",hasPasswordError:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"validateAndCreateUser",value:function(){var e=Object(ee.a)(X.a.mark((function e(){var t,s,a,c=this;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("email-input").value,s=document.getElementById("password-input").value,e.next=4,this.setEmailState(t);case 4:return e.next=6,this.setPasswordState(s,t);case 6:!1===this.state.hasEmailError&&!1===this.state.hasPasswordError&&(a={id:Object(ae.a)(),email:t,password:se()(s),createdAt:Date.now()},console.log(a),D.a.get("https://raw.githubusercontent.com/Reina-git/Crowd-Tag-React/main/src/mock-data/user.json").then((function(e){var t=e.data;console.log(t),c.props.dispatch({type:p.STORE_CURRENT_USER,payload:e.data})})).catch((function(e){console.log(e)})),this.props.history.push("/"));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"col-12 col-lg-5",children:Object(a.jsxs)("div",{className:"card card-body-padding mt-9 d-flex justify-content-center",children:[Object(a.jsx)("h2",{children:"Nice to meet you."}),Object(a.jsx)("p",{children:"Sign up for Crowd Tag."}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Email address"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text","aria-label":"Sizing example input",className:W()({"form-control":!0,"mb-2":!0,"is-invalid":this.state.hasEmailError}),"aria-describedby":"inputGroup-sizing-default",id:"email-input"})}),this.state.hasEmailError&&Object(a.jsx)("p",{className:"text-danger lead mt-2",id:"email-error",children:this.state.emailError}),Object(a.jsx)("p",{className:"text-muted mt-3 lead",children:"Password"}),Object(a.jsx)("div",{className:"input-group mb-3 mt-2",children:Object(a.jsx)("input",{type:"text","aria-label":"Sizing example input",id:"password-input","aria-describedby":"inputGroup-sizing-default",className:W()({"form-control":!0,"mb-2":!0,"is-invalid":this.state.hasPasswordError})})}),""!==this.state.passwordError&&Object(a.jsx)("p",{className:"lead mt-2 text-danger",id:"password-error",children:this.state.passwordError}),Object(a.jsx)("button",{to:"/create-answer",className:"btn btn-success btn-block mt-5",id:"letsGoButton",onClick:function(){e.validateAndCreateUser()},children:"Login"})]})})}}]),s}(i.a.Component);var ne=Object(r.f)(Object(O.b)((function(e){return{}}))(le));function oe(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12 col-xl-8 offset-xl-2 col-lg-10 offset-lg-1",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 mt-6",children:Object(a.jsxs)(o.b,{to:"/",className:"Logo-link",children:[Object(a.jsx)("img",{src:b,className:"mt-n2 logo",alt:"shutter logo"}),Object(a.jsx)("h1",{className:"d-inline ml-2 font-family-brand",id:"logo-text",children:"Crowd Tag"})]})})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(ie,{}),Object(a.jsx)(ne,{})]})]})})})}function re(){return Object(a.jsx)("h1",{children:"Not Found"})}var de=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(r.c,{children:[Object(a.jsx)(r.a,{exact:!0,path:"/",component:U}),Object(a.jsx)(r.a,{exact:!0,path:"/admin-add-photo-collection",component:k}),Object(a.jsx)(r.a,{exact:!0,path:"/admin-collections",component:F}),Object(a.jsx)(r.a,{exact:!0,path:"/collection",component:H}),Object(a.jsx)(r.a,{exact:!0,path:"/image",component:V}),Object(a.jsx)(r.a,{exact:!0,path:"/library-log-in",component:K}),Object(a.jsx)(r.a,{exact:!0,path:"/log-in",component:oe}),Object(a.jsx)(r.a,{component:re})]})})},me=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,220)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;s(e),a(e),c(e),i(e),l(e)}))},he=s(24),je=s(85);var ue=s(86);var be=Object(he.combineReducers)({currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.STORE_CURRENT_USER:return t.payload;default:return e}},allCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object(ue.a)({},e),t.type){case p.STORE_ALL_COLLECTIONS:return t.payload;default:return e}},selectedCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.STORE_SELECTED_COLLECTION:return t.payload;default:return e}},selectedPhoto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.STORE_SELECTED_PHOTO:return t.payload;default:return e}},displayTag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.STORE_DISPLAY_TAG:return t.payload;default:return e}}}),pe=Object(he.createStore)(be,{currentUser:{},allCollections:[],selectedCollection:{},selectedPhoto:{},displayTag:{}},Object(je.composeWithDevTools)());n.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(O.a,{store:pe,children:Object(a.jsx)(de,{})})}),document.getElementById("root")),me()},93:function(e,t,s){}},[[218,1,2]]]);
//# sourceMappingURL=main.ce83dfc5.chunk.js.map